
#
Building
kernel-image
[x86_64-qemu]

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-Iinclude/
-Iframework/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/kernel/build/x86_64-qemu/framework/main.o
/workspaces/NJU_OS/os-workbench-2022/kernel/framework/main.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-Iinclude/
-Iframework/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/kernel/build/x86_64-qemu/./src/pmm.o
/workspaces/NJU_OS/os-workbench-2022/kernel/src/pmm.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-Iinclude/
-Iframework/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/kernel/build/x86_64-qemu/./src/os.o
/workspaces/NJU_OS/os-workbench-2022/kernel/src/os.c

make
-s
-C
/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am
archive

#
Building
am-archive
[x86_64-qemu]

x86_64-linux-gnu-gcc
-MMD
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-m64
-fPIC
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/start64.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/src/x86/qemu/start64.S

x86_64-linux-gnu-gcc
-MMD
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-m64
-fPIC
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/trap64.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/src/x86/qemu/trap64.S

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/trm.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/src/x86/qemu/trm.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/cte.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/src/x86/qemu/cte.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ioe.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/src/x86/qemu/ioe.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/vme.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/src/x86/qemu/vme.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/mpe.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/src/x86/qemu/mpe.c

echo
+
AR
"->"
build/am-x86_64-qemu.a

ar
rcs
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/am-x86_64-qemu.a
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/start64.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/trap64.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/trm.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/cte.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/ioe.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/vme.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/am/build/x86_64-qemu/src/x86/qemu/mpe.o

make
-s
-C
/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib
archive

#
Building
klib-archive
[x86_64-qemu]

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/stdio.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/src/stdio.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/string.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/src/string.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/stdlib.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/src/stdlib.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/int64.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/src/int64.c

x86_64-linux-gnu-gcc
-std=gnu11
-O2
-MMD
-Wall
-Werror
-I/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/include
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/include/
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/include/
-D__ISA__=\"x86_64\"
-D__ISA_X86_64__
-D__ARCH__=x86_64-qemu
-D__ARCH_X86_64_QEMU
-D__PLATFORM__=qemu
-D__PLATFORM_QEMU
-DARCH_H=\"arch/x86_64-qemu.h\"
-fno-asynchronous-unwind-tables
-fno-builtin
-fno-stack-protector
-Wno-main
-U_FORTIFY_SOURCE
-m64
-fPIC
-mno-sse
-c
-o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/cpp.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/src/cpp.c

echo
+
AR
"->"
build/klib-x86_64-qemu.a

ar
rcs
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/klib-x86_64-qemu.a
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/stdio.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/string.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/stdlib.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/int64.o
/workspaces/NJU_OS/os-workbench-2022/abstract-machine/klib/build/x86_64-qemu/src/cpp.o

echo
+
LD
"->"
build/kernel-x86_64-qemu.elf

x86_64-linux-gnu-ld
-z
noexecstack
-melf_x86_64
-N
-Ttext-segment=0x00100000
-o
/workspaces/NJU_OS/os-workbench-2022/kernel/build/kernel-x86_64-qemu.elf
--start-group
/workspaces/NJU_OS/os-workbench-2022/kernel/build/x86_64-qemu/framework/main.o
/workspaces/NJU_OS/os-workbench-2022/kernel/build/x86_64-qemu/./src/pmm.o
/workspaces/NJU_OS/os-workbench-2022/kernel/build/x86_64-qemu/./src/os.o
/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/build/am-x86_64-qemu.a
/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/klib/build/klib-x86_64-qemu.a
--end-group

echo
\#
Creating
image
[x86_64-qemu]

git
add
./framework/main.c
./src/pmm.c
./src/os.c
./framework/kernel.h
./include/common.h
-A
--ignore-errors

while
(test
-e
.git/index.lock);
do
sleep
0.1;
done

(uname
-a
&&
uptime)
|
git
commit
-F
-
-q
--author='tracer-nju
<tracer@nju.edu.cn>'
--no-verify
--allow-empty

sync

make
-s
-C
/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src/x86/qemu/boot

echo
+
CC
start.S
main.c

x86_64-linux-gnu-gcc
-static
-m32
-fno-pic
-Os
-nostdlib
-Ttext
0x7c00
-I/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src
-o
bootblock.o
start.S
main.c

python3
genboot.py
bootblock.o

echo
+
CREATE
"->"
build/kernel-x86_64-qemu

(
cat
/workspaces/NJU_OS/os-workbench-2022/kernel/../abstract-machine/am/src/x86/qemu/boot/bootblock.o;
head
-c
1024
/dev/zero;
cat
/workspaces/NJU_OS/os-workbench-2022/kernel/build/kernel-x86_64-qemu.elf
)
>
/workspaces/NJU_OS/os-workbench-2022/kernel/build/kernel-x86_64-qemu
